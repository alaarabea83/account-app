  <!DOCTYPE html>
  <html lang="ar" dir="rtl">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css" />
    <title>المقبوضات</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@600;700&family=Tajawal:wght@400;500&display=swap"
      rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
      * {
        box-sizing: border-box;
        font-family: "Cairo", sans-serif;
        margin: 0;
        padding: 0;
      }

      body {
        background: #1E293B;
        color: #F8F9FA;
        padding-bottom: 100px;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 25px;
        background: #1E3A8A;
        position: sticky;
        top: 0;
        z-index: 100;
        border-radius: 0 0 15px 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      }

      .header h1 {
        font-family: "Tajawal", sans-serif;
        font-size: 24px;
      }

      .header-right button {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        font-size: 18px;
        padding: 8px 12px;
        border-radius: 8px;
        cursor: pointer;
        margin-left: 10px;
        transition: 0.3s;
      }

      .header-right button:hover {
        background: rgba(255, 255, 255, 0.4);
      }

      .form-container {
        max-width: 950px;
        margin: 20px auto;
        background: #2E3A59;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      }

      .form-container input,
      .form-container select,
      .form-container button {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 6px;
        border: none;
        font-size: 16px;
      }

      .form-container input,
      .form-container select {
        background-color: #0f172a;
        color: #fff;
      }

      .form-container button {
        background: #1E3A8A;
        color: white;
        cursor: pointer;
        transition: 0.3s;
      }

      .form-container button:hover {
        background: #1E3A8A;
      }

      .table-wrapper {
        max-height: 400px;
        overflow-y: auto;
        overflow-x: auto;
        margin-top: 20px;
        border-radius: 8px;
        background: #1E293B;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .table-wrapper table {
        width: 100%;
        border-collapse: collapse;
      }

      th,
      td {
        padding: 12px;
        text-align: center;
      }

      th {
        background: #21618C;
      }

      tr:nth-child(even) {
        background: #2E3A59;
      }

      tr:nth-child(odd) {
        background: #1E2A45;
      }

      tfoot td {
        font-weight: bold;
        background: #21618C;
      }

      .table-wrapper::-webkit-scrollbar {
        width: 10px;
        height: 10px;
      }

      .table-wrapper::-webkit-scrollbar-track {
        background: #0F172A;
        border-radius: 5px;
      }

      .table-wrapper::-webkit-scrollbar-thumb {
        background: #3B82F6;
        border-radius: 5px;
      }

      .table-wrapper::-webkit-scrollbar-thumb:hover {
        background: #60A5FA;
      }

      .filter-container {
        max-width: 950px;
        margin: 10px auto;
        background: #1E293B;
        padding: 10px;
        border-radius: 10px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .filter-container select,
      .filter-container input {
        width: auto;
        flex: 1;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #fff;
        background: #1E293B;
        color: #F8F9FA;
        font-size: 16px;
      }

      .filter-container input:focus,
      .filter-container select:focus {
        outline: none;
        background: #3B82F6;
        color: white;
      }

      .filter-container button {
        padding: 10px 20px;
        border-radius: 8px;
        border: none;
        background: #1E3A8A;
        color: white;
        cursor: pointer;
        font-size: 16px;
        transition: 0.3s;
      }

      .filter-container button:hover {
        background: #1E3A8A;
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        justify-content: center;
        align-items: center;
        z-index: 200;
      }

      .modal-content {
        background: #1E3A8A;
        padding: 20px;
        border-radius: 10px;
        width: 300px;
        text-align: center;
        color: white;
      }

      .modal-content input {
        width: 100%;
        padding: 8px;
        margin: 8px 0;
        border-radius: 6px;
        border: none;
      }

      .modal-content button {
        padding: 8px 12px;
        margin: 5px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      }

      .save-btn {
        background: #3B82F6;
        color: white;
      }

      .close-btn {
        background: #F87171;
        color: white;
      }

      .success-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.4);
  display: flex;
  justify-content: center;
  align-items: center;
  visibility: hidden;
  opacity: 0;
  transition: .3s;
  z-index: 9999;
}

.success-modal.active {
  visibility: visible;
  opacity: 1;
}

.success-box {
  background: #28a745;
  padding: 30px 50px;
  border-radius: 16px;
  text-align: center;
  animation: pop .3s ease;
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
}

.check-icon {
  width: 70px;
  height: 70px;
  margin: auto;
  background: #28a745;
  color: #fff;
  font-size: 35px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  margin-bottom: 15px;
}

@keyframes pop {
  from { transform: scale(.7); opacity:0; }
  to { transform: scale(1); opacity:1; }
}
    </style>
  </head>

  <body>

    <header class="header">
      <div class="header-left">
        <h1>المقبوضات</h1>
      </div>
      <div class="header-right">
        <button><i class="fa fa-bell"></i></button>
        <button><i class="fa fa-user"></i></button>
      </div>
    </header>

    <div class="form-container">
      <select id="receiptCustomer">
        <option value="" disabled selected>اختر الحساب</option>
      </select>

      <input type="text" id="prevBalance" disabled placeholder="الرصيد السابق">

      <select id="receiptTitle">
        <option value="" disabled selected>البند / البيان</option>
        <option value="سند قبض">سند قبض</option>
        <option value="تحصيل ديون">تحصيل ديون</option>
        <option value="أخرى">أخرى</option>
      </select>

      <input type="number" id="receiptAmount" placeholder="ادخل المبلغ">

      <input type="text" id="remainingBalance" disabled placeholder="المتبقي بعد الدفع">

      <button id="addReceiptBtn">إضافة المقبوض</button>
    </div>

    <div class="filter-container">
      <input type="date" id="fromDate" placeholder="من تاريخ">
      <input type="date" id="toDate" placeholder="إلى تاريخ">
      <select id="filterCustomer">
        <option value="">الكل</option>
      </select>
      <button id="filterBtn">تطبيق الفلتر</button>
    </div>

    <div class="table-wrapper">
      <table id="receiptTable">
        <thead>
          <tr>
            <th>التاريخ</th>
            <th>الحساب</th>
            <th>الرصيد السابق</th>
            <th>المبلغ</th>
            <th>المتبقي</th>
            <th>البيان</th>
          </tr>
        </thead>
        <tbody></tbody>
        <tfoot>
        </tfoot>
      </table>
    </div>

    <div class="modal" id="titleModal">
      <div class="modal-content">
        <h3>أضف بيان جديد</h3>
        <input type="text" id="otherTitleInput" placeholder="اكتب البيان هنا">
        <div>
          <button class="save-btn" id="saveTitleBtn">حفظ</button>
          <button class="close-btn" id="closeModalBtn">إلغاء</button>
        </div>
      </div>
    </div>

    <div id="successModal" class="success-modal">
  <div class="success-box">
    <div class="check-icon">✔</div>
    <h3 id="successText">تمت العملية بنجاح</h3>
  </div>
</div>

    <script src="../js/data.js"></script>
      <script src="../js/common.js"></script>
      <script src="../js/receipts.js"></script>

  </body>

  </html>