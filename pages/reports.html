<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Ultimate Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>

:root{
 --bg:#0f172a;
 --card:#1e293b;
 --text:white;
 --accent:#38bdf8;
}

.light{
 --bg:#f1f5f9;
 --card:white;
 --text:#0f172a;
}

*{box-sizing:border-box;font-family:Cairo}

body{
 margin:0;
 background:var(--bg);
 color:var(--text);
 transition:.3s;
}

/* HEADER */
.header{
 display:flex;
 justify-content:space-between;
 padding:15px;
 background:var(--card);
 font-size:20px;
 font-weight:700;
}

.btn{
 background:var(--accent);
 border:none;
 padding:8px 12px;
 border-radius:8px;
 cursor:pointer;
}

/* STATS */
.stats{
 display:grid;
 grid-template-columns:repeat(2,1fr);
 gap:10px;
 padding:12px;
}

.stat{
 background:var(--card);
 padding:15px;
 border-radius:12px;
 text-align:center;
}

.stat h2{color:var(--accent);margin:5px}

/* GRID */
.grid{
 display:grid;
 grid-template-columns:repeat(2,1fr);
 gap:12px;
 padding:12px;
}

.card{
 background:var(--card);
 padding:15px;
 border-radius:14px;
 text-align:center;
 text-decoration:none;
 color:var(--text);
}

.card:hover{transform:scale(1.05)}

.card img{width:45px}

/* CHART */
.chart-box{
 background:var(--card);
 margin:12px;
 padding:12px;
 border-radius:14px;
}

/* BOTTOM BAR */
.bottom{
 position:fixed;
 bottom:0;
 width:100%;
 background:var(--card);
 display:flex;
 justify-content:space-around;
 padding:10px 0;
}

.bottom a{
 color:var(--text);
 text-decoration:none;
}

</style>
</head>

<body>

<div class="header">
Ultimate Dashboard
<div>
<button class="btn" onclick="toggleMode()">ğŸŒ™</button>
<button class="btn" onclick="backup()">ğŸ’¾</button>
<button class="btn" onclick="restore()">ğŸ“‚</button>
</div>
</div>

<!-- STATS -->
<div class="stats">
<div class="stat"><h2 id="cust">0</h2>Ø¹Ù…Ù„Ø§Ø¡</div>
<div class="stat"><h2 id="inv">0</h2>ÙÙˆØ§ØªÙŠØ±</div>
<div class="stat"><h2 id="salesT">0</h2>Ù…Ø¨ÙŠØ¹Ø§Øª</div>
<div class="stat"><h2 id="profit">0</h2>Ø£Ø±Ø¨Ø§Ø­</div>
</div>

<!-- CHART -->
<div class="chart-box">
<canvas id="chart"></canvas>
</div>

<!-- MODULES -->
<div class="grid">



<script>

/* DARK MODE */
function toggleMode(){
 document.body.classList.toggle("light");
 localStorage.setItem("mode",
  document.body.classList.contains("light")?"light":"dark");
}
if(localStorage.getItem("mode")=="light"){
 document.body.classList.add("light");
}

/* SAMPLE DATA */
let customers=JSON.parse(localStorage.getItem("customers")||"[]");
let sales=JSON.parse(localStorage.getItem("sales")||"[]");

/* DEMO DATA Ù„Ùˆ ÙØ§Ø¶ÙŠ */
if(sales.length==0){
 sales=[
  {total:500,date:"2025-01"},
  {total:800,date:"2025-02"},
  {total:650,date:"2025-03"}
 ];
 localStorage.setItem("sales",JSON.stringify(sales));
}

/* STATS */
cust.innerText=customers.length;
inv.innerText=sales.length;

let total=0;
let months=[];
let values=[];

sales.forEach(s=>{
 total+=s.total;
 months.push(s.date);
 values.push(s.total);
});

salesT.innerText=total;
profit.innerText=Math.round(total*0.25);

/* CHART */
new Chart(document.getElementById("chart"),{
 type:"line",
 data:{
  labels:months,
  datasets:[{
   label:"Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª",
   data:values
  }]
 }
});

/* BACKUP */
function backup(){
 let data=JSON.stringify(localStorage);
 let blob=new Blob([data],{type:"application/json"});
 let a=document.createElement("a");
 a.href=URL.createObjectURL(blob);
 a.download="backup.json";
 a.click();
 alert("ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ");
}

/* RESTORE */
function restore(){
 let inp=document.createElement("input");
 inp.type="file";
 inp.onchange=e=>{
  let file=e.target.files[0];
  let reader=new FileReader();
  reader.onload=()=>{
   let data=JSON.parse(reader.result);
   for(let k in data){
    localStorage.setItem(k,data[k]);
   }
   alert("ØªÙ… Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©");
   location.reload();
  };
  reader.readAsText(file);
 };
 inp.click();
}

/* ØªÙ†Ø¨ÙŠÙ‡ Ø°ÙƒÙŠ */
setTimeout(()=>{
 alert("ğŸ“Œ ØªØ°ÙƒÙŠØ±: Ø±Ø§Ø¬Ø¹ ÙÙˆØ§ØªÙŠØ± Ø§Ù„ÙŠÙˆÙ…");
},3000);

</script>

</body>
</html>
